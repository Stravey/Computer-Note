# 5.3 数据通路的功能和基本结构

**数据通路**：数据在功能部件之间传送的路径。数据通路包括数据流经的组件，如ALU、寄存器等

**内部总线**：同一部件，如CPU内部各寄存器和运算部件之间的总线

**系统总线**：计算机系统各部件，如CPU、内存、通道和I/O接口之间的总线

## 5.3.1 CPU内部单总线方式

系统结构图

![img](https://github.com/Aye10032/ComputerOrganizationNote/raw/main/.gitbook/assets/%E5%8D%95%E6%80%BB%E7%BA%BF%E6%96%B9%E5%BC%8F.png)

### 1 寄存器之间的数据传送

设将PC的内容传送至MAR

| **(PC)→Bus** | **PCout有效** |
| :----------: | :-----------: |
| **Bus→MAR**  | **MARin有效** |

### 2 主存与CPU之间的数据传输

设CPU从主存读取指令

| **(PC)→Bus→MAR** | **PCout和MARin有效** |
| :--------------: | :------------------: |
|     **1→R**      |    **CU置读信号**    |
| **MEM(MAR)→MDR** |    **MDRin有效**     |
|  **MDR→Bus→IR**  | **MDRout和IRin有效** |

### 3 执行算数或逻辑运算

由于ALU两个输入端必须同时有效，而总线只能传输一路数据，因此先将一个输入数据存入暂存寄存器Y

| **Ad(IR)→Bus→MAR** | **IRout和MARin有效**  |
| :----------------: | :-------------------: |
|      **1→R**       |    **CU置读信号**     |
|  **MEM(MAR)→MDR**  |     **MDRin有效**     |
|   **MDR→Bus→Y**    |  **MDRout和Yin有效**  |
|  **(ACC)+(Y)→Z**   | **ACCout和ALUin有效** |
|     **Z→ACC**      |  **Zout和ACCin有效**  |

## 5.3.2 专用数据通路方式

相较于单总线方式，将数据通路的流通方向单独安排线路。

优点是效率高，缺点是硬件量较大。